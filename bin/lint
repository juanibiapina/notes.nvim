#!/usr/bin/env bash

# Linting script for Lua code
set -e

echo "Running Lua linting checks..."
echo "=============================="

# Run luacheck (static analysis)
echo "1. Running luacheck (static analysis)..."
if ! luacheck .; then
    echo "âŒ Luacheck failed!"
    exit 1
fi
echo "âœ… Luacheck passed!"

echo ""
echo "2. Running stylua (code formatting check)..."
if ! stylua --check .; then
    echo "âŒ Stylua formatting check failed!"
    echo "ğŸ’¡ Run 'stylua .' to auto-fix formatting issues"
    exit 1
fi
echo "âœ… Stylua formatting check passed!"

echo ""
echo "ğŸ‰ All linting checks passed!"